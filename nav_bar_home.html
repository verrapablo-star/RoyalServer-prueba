<!-- nav_bar_home.html: Módulo de navegación reutilizable para Home -->
<nav class="nav container">
  <a href="index.html" class="nav__logo" style="display:flex;align-items:center;gap:10px;">
    <img src="img/RS_LOGO.png" alt="RoyalServers Logo" style="height:38px;width:auto;vertical-align:middle;">
    <span class="nav-logo-text" style="font-family:'Montserrat',sans-serif;font-size:1.45rem;font-weight:700;letter-spacing:1px;text-transform:uppercase;line-height:1;">
      <span style="color:var(--primary-color);">ROYAL</span><span style="color:#fff;">SERVERS</span>
    </span>
  </a>
  <ul class="nav__list">
  <li><a href="index.html#quienes-somos" class="nav__link">Quiénes Somos</a></li>
  <li><a href="index.html#juegos" class="nav__link">Juegos</a></li>
  <li><a href="index.html#creadores" class="nav__link">Creadores</a></li>
  <li><a href="index.html#testimonios" class="nav__link">Opiniones</a></li>
  <li><a href="shop.html" class="nav__link">Shop</a></li>
  </ul>
  <!-- Mobile hamburger toggle (styled via CSS, shown on small screens) -->
  <button class="nav__toggle" aria-label="Abrir menú" aria-expanded="false">☰</button>

  <div class="nav__actions" style="display:flex;align-items:center;gap:10px;">
    <a href="https://dsc.gg/royalserver" target="_blank" class="btn btn--primary nav__btn">Únete a Discord</a>
    <a href="login.html" class="btn btn--secondary nav__btn">Login</a>
  </div>
</nav>

<script>
  // Toggle mobile nav list: keeps desktop behavior unchanged
  (function(){
    // Find this nav fragment's root element
    var scriptEl = document.currentScript;
    var navRoot = scriptEl && scriptEl.previousElementSibling;
    // If previousElementSibling is not the nav (depends on placement), fallback to searching
    if(!navRoot || !navRoot.classList || !navRoot.classList.contains('nav')){
      navRoot = document.querySelector('.nav.container');
    }
    if(!navRoot) return;
    var toggle = navRoot.querySelector('.nav__toggle');
    var list = navRoot.querySelector('.nav__list');
    if(!toggle || !list) return;
    toggle.addEventListener('click', function(e){
      var expanded = toggle.getAttribute('aria-expanded') === 'true';
      toggle.setAttribute('aria-expanded', String(!expanded));
      list.classList.toggle('active');
    });
    // Close when clicking outside
    document.addEventListener('click', function(e){
      if(!navRoot.contains(e.target) && list.classList.contains('active')){
        list.classList.remove('active');
        toggle.setAttribute('aria-expanded', 'false');
      }
    });
    // Close on Escape
    document.addEventListener('keydown', function(e){
      if(e.key === 'Escape' && list.classList.contains('active')){
        list.classList.remove('active');
        toggle.setAttribute('aria-expanded', 'false');
      }
    });
  })();
</script>
