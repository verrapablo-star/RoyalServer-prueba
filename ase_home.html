<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ARK: Survival Evolved - RoyalServers</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <!-- Tailwind CDN para prototipo r√°pido -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- AOS animations CSS -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <style>
    /* Reset m√≠nimo y seguridad contra scroll horizontal */
    html,body{margin:0;padding:0;overflow-x:hidden;background:#080710;color:#fff;font-family: Poppins, system-ui, -apple-system, 'Segoe UI', Roboto}
   /* Espacio superior para que el hero no quede oculto detr√°s del nav fijo
     Ajustar --ase-nav-offset si el nav cambia de altura. */
   :root{--ase-nav-offset:72px}
   #ase-root > header{margin-top:var(--ase-nav-offset)}
   @media(max-width:640px){ :root{--ase-nav-offset:56px} #ase-root > header{margin-top:var(--ase-nav-offset)} }
  </style>
</head>
<body>
  <header class="header">
    <div id="nav-bar-home-container"></div>
    <div style="height:40px; display:flex; align-items:center; background:#181818; padding-left:24px;">
      <img src="img/ARK_EVOLVED.png" alt="ARK" style="height:28px;vertical-align:middle;">
      <h1 style="margin-left:12px;color:var(--primary-color);font-size:1.1rem;font-family:'Montserrat',sans-serif;">ARK: Survival Evolved</h1>
    </div>
  </header>

  <main style="margin-top:8px;">
    <!-- App principal montada con React (CDN) y Tailwind para prototipo -->
    <div id="ase-root" class="min-h-[60vh]"></div>

  <div id="foot-home-container"></div>
  </main>

  <!-- React + ReactDOM CDN -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <!-- App JS: componentes internos y datos de ejemplo -->
  <script>
    // NOTA: Este es un prototipo integrado en un solo archivo. Para producci√≥n, separar en m√≥dulos.
    const e = React.createElement;

    // Datos de ejemplo - lista completa de mapas solicitada.
    // NOTA: Los campos `online` y `players` son placeholders y deben reemplazarse
    //       por la respuesta de la API que devuelva el estado real del servidor.
    //       Tambi√©n reemplazar thumbnails y el enlace steam://connect por las IPs reales.
    const SAMPLE_MAPS = [
      { id: 'map-842', title: 'Aberration',     searchName: 'ABE_842',    thumbnail: 'img/MAPS_ABE.jpg',       online: false, players: 0, connect: 'steam://connect/192.0.2.11:27015' },
      { id: 'map-193', title: 'The Center',     searchName: 'CENTER_193', thumbnail: 'img/MAPS_CENTER.jpg',    online: true,  players: 4, connect: 'steam://connect/192.0.2.12:27015' },
      { id: 'map-451', title: 'Crystal Isles',  searchName: 'CRYSTAL_451',thumbnail: 'img/MAPS_CRYSTAL.jpg',   online: true,  players: 7, connect: 'steam://connect/192.0.2.13:27015' },
      { id: 'map-660', title: 'Extintion',      searchName: 'EXT_660',    thumbnail: 'img/MAPS_EXTINTION.jpg', online: true,  players: 2, connect: 'steam://connect/192.0.2.14:27015' },
      { id: 'map-277', title: 'Fjordur',        searchName: 'FJORDUR_277',thumbnail: 'img/MAPS_FJORDUR.jpg',   online: true,  players: 5, connect: 'steam://connect/192.0.2.15:27015' },
      { id: 'map-908', title: 'G√©nesis',        searchName: 'GEN1_908',   thumbnail: 'img/MAPS_GEN1.jpg',      online: false, players: 0, connect: 'steam://connect/192.0.2.16:27015' },
      { id: 'map-902', title: 'G√©nesis 2',      searchName: 'GEN2_902',   thumbnail: 'img/MAPS_GEN2.jpg',      online: true,  players: 1, connect: 'steam://connect/192.0.2.17:27015' },
      { id: 'map-101', title: 'The Island',     searchName: 'ISLAND_101', thumbnail: 'img/MAPS_ISLA.png',      online: true,  players: 9, connect: 'steam://connect/192.0.2.18:27015' },
      { id: 'map-555', title: 'Lost Island',    searchName: 'LOST_555',   thumbnail: 'img/MAPS_LOST.jpg',      online: false, players: 0, connect: 'steam://connect/192.0.2.19:27015' },
      { id: 'map-321', title: 'Ragnarok',       searchName: 'RAGNAROK_321',thumbnail: 'img/MAPS_RAGNAROK.jpeg', online: true,  players: 3, connect: 'steam://connect/192.0.2.20:27015' },
      { id: 'map-412', title: 'Valguero',       searchName: 'VALGUERO_412',thumbnail: 'img/MAPS_VALGUERO.jpg',  online: true,  players: 6, connect: 'steam://connect/192.0.2.21:27015' },
      { id: 'map-709', title: 'Scorched Earth', searchName: 'SCORCHED_709',thumbnail: 'img/MAPS_SCORCHED.png',  online: false, players: 0, connect: 'steam://connect/192.0.2.22:27015' }
    ];

    // Componente MapCard (accesible)
    function MapCard({map}){
      return (
        // A√±adimos la clase `map-panel` para aplicar estilos globales desde styles.css
  e('article', {className:'map-panel rounded-lg shadow-md p-4 flex flex-col', role:'article', 'aria-labelledby': `map-${map.id}-title`, 'data-aos':'zoom-in', 'data-aos-delay':'120'},
          // Thumbnail
          e('img', {src: map.thumbnail, alt: `${map.title} thumbnail`, className:'w-full h-40 object-cover rounded-md mb-3'}),
          // Title and search name
          e('div', {className:'flex-1'},
            e('h3', {id:`map-${map.id}-title`, className:'text-white text-lg font-semibold mb-1'}, map.title),
            e('div', {className:'text-sm text-gray-300 mb-2'}, e('span', null, `Search name: `), e('strong', {className:'text-gray-100'}, map.searchName))
          ),
          // Status / players
          e('div', {className:'flex items-center justify-between mt-2'},
            // Usar la clase `panel-status` para aprovechar estilos y animaciones en styles.css
            e('span', {className:`panel-status ${map.online? 'online' : 'offline'}`, 'aria-label': map.online? 'Servidor online' : 'Servidor offline', role: 'status'},
              e('span', {className:'status-icon', 'aria-hidden': true, style:{background: map.online ? '#34D399' : '#ef4444'}}),
              e('strong', {className:'status-text', style:{marginLeft:6, fontWeight:800}}, map.online? 'ONLINE' : 'OFFLINE')
            ),
            e('span', {className:'text-sm text-gray-300'}, `${map.players} jugadores`)
          ),
          // Conectar button
          e('div', {className:'mt-4'},
            // El enlace usa steam://connect; si el navegador no lo soporta, ser√° manejado por el usuario/cliente Steam.
            e('a', {href: map.connect, className:'panel-btn', 'aria-label': `Conectar a ${map.title}`}, 'Conectar')
          )
        )
      );
    }

    // Cluster config block (updated: two-column layout with left text/cards and right image)
    function ClusterConfig(){
      // icons (emoji) pool for a simple "random" icon per card at render time
      const icons = ['üéØ','üß≠','üí∞','üõ†Ô∏è','üåê','‚ö°','üî•','‚≠ê'];
      const features = [
        'Dificultad personalizada',
        'Loots Personalizados',
        'Economia ingame',
        'Soporte',
        'Eventos'
      ];

      // Create simple label-only cards (no icons). Text forced to a single line with ellipsis if needed.
      // Usar la misma animaci√≥n y delay para todas las tarjetas del cluster
      const NODE_AOS = { 'data-aos': 'fade-up', 'data-aos-delay': '120' };
      const nodes = features.map((f,i)=> {
        return e('div', Object.assign({key: i, className:'p-3 rounded-lg shadow-sm hover:scale-105 transition border flex items-center justify-center', style:{border:'1px solid var(--primary-color)', color:'var(--primary-color)'}}, NODE_AOS),
          e('span', {className:'block text-center font-semibold text-sm uppercase', style:{whiteSpace:'nowrap', overflow:'hidden', textOverflow:'ellipsis', width: '100%'}}, f)
        );
      });

      // comunidad node (now a regular grid cell so layout becomes 2x3)
      // "Comunidad Activa" debe usar la misma animaci√≥n que el resto
      const comunidad = (function(){
        return e('div', Object.assign({key: 'comunidad', className:'p-3 rounded-lg shadow-sm transition border flex items-center justify-center', style:{border:'1px solid var(--primary-color)', color:'var(--primary-color)'}}, NODE_AOS),
          e('span', {className:'block text-center font-semibold text-sm uppercase', style:{whiteSpace:'nowrap', overflow:'hidden', textOverflow:'ellipsis', width:'100%'}}, 'Comunidad Activa')
        );
      })();

      return (
        e('section', {className:'text-white py-12 px-6 rounded-2xl shadow-lg flex items-center justify-between max-w-5xl mx-auto my-8', 'data-aos':'fade-up'},
          // Left column: text and feature cards
          e('div', {className:'w-1/2 space-y-6', 'data-aos':'fade-right', 'data-aos-delay':'120'},
            e('h2', {className:'text-3xl font-bold', style: {color: 'var(--primary-color)'}}, 'CLUSTER PVE CROSSPLAY x4'),
            e('p', {className:'text-lg text-gray-300'},
              'Cluster de 12 mapas FULL PVE + mapas de eventos PVE/PVP.',
              e('br'),
              'Crossplay en PC para Steam y Epic.'
            ),
            e('div', {className:'grid grid-cols-2 gap-4'},
              ...nodes,
              comunidad
            )
          ),
          // Right column: image
          e('div', {className:'w-1/2 flex justify-center', 'data-aos':'fade-left', 'data-aos-delay':'160'},
            e('img', {src:'img/OVIS.png', alt:'Ovis', className:'rounded-2xl shadow-lg max-h-96', 'data-aos':'zoom-in', 'data-aos-delay':'200'})
          )
        )
      );
    }

    // Hero component
    function Hero(){
      return (
  // A√±adimos data-aos para que el hero tambi√©n tenga animaci√≥n al aparecer
  // Aumentamos la altura del hero y agregamos tama√±os responsivos
  e('header', {className:'relative w-full h-[520px] md:h-[680px] lg:h-[820px] overflow-hidden rounded-b-xl', 'data-aos':'fade-down', 'data-aos-delay':'80'},
          // Background image - reemplazar src si se necesita otra imagen
          e('img', {src:'img/FONDO_ARK_EVOLVED.jpg', alt:'Fondo ARK', className:'absolute inset-0 w-full h-full object-cover brightness-75'}),
          // Overlay general (sutil) para contraste
          e('div', {className:'absolute inset-0 bg-gradient-to-b from-transparent to-black/40'}),
          // Degradado inferior que mezcla la imagen con el color de fondo de la p√°gina (#080710)
          e('div', {className:'absolute left-0 right-0 bottom-0 h-40 pointer-events-none', style:{background:'linear-gradient(180deg, rgba(0,0,0,0) 0%, #080710 100%)'}}),
          e('div', {className:'relative z-10 flex flex-col items-center justify-center h-full text-center px-6'},
            e('h1', {className:'text-4xl md:text-5xl font-bold text-white mb-3', 'data-aos':'zoom-in', 'data-aos-delay':'140'}, 'Un mundo primitivo espera ser conquistado...'),
            e('p', {className:'text-gray-300 max-w-2xl', 'data-aos':'fade-up', 'data-aos-delay':'180'}, '√önete a Royal Servers y comienza a forjar tu propio destino.')
          )
        )
      );
    }

    // Maps grid + summary
    function MapsSection({maps}){
      const totalMaps = maps.length;
      const totalPlayers = maps.reduce((s,m)=> s + (m.players||0), 0);
      return (
        e('section', {className:'max-w-6xl mx-auto my-8 px-4'},
          e('div', {className:'flex items-center justify-between mb-4'},
            e('h3', {className:'text-2xl text-white font-semibold'}, 'Mapas'),
            e('div', {className:'text-sm text-gray-300'}, `${totalMaps} mapas ‚Äî ${totalPlayers} jugadores en total`)
          ),
          e('div', {className:'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6'},
            maps.map(m=> e(MapCard, {key:m.id, map:m}))
          )
        )
      )
    }

    // Secci√≥n CrossPlay para PC (similar a la secci√≥n 'creadores' en index.html)
    function CrossplaySection(){
      return (
        e('section', {id:'crossplay', className:'section section--dark py-12', 'data-aos':'fade-up'},
          e('div', {className:'container'},
            e('h2', {className:'section__title', 'data-aos':'fade-up'}, 'CrossPlay para PC'),
            e('div', {className:'creators__grid', style:{display:'flex', alignItems:'center', gap:'24px', marginTop:'16px'}},
              e('div', {className:'creators__image', 'data-aos':'fade-right', 'data-aos-delay':'100', style:{flex:'0 0 140px', display:'flex', justifyContent:'center', alignItems:'center'}},
                // Usar logo existente como imagen representativa
                e('img', {src:'img/RS_LOGO.png', alt:'RoyalServers', style:{width:'110px',height:'110px',objectFit:'contain'}})
              ),
              e('div', {className:'creators__text', 'data-aos':'fade-left', 'data-aos-delay':'200', style:{flex:'1'}},
                e('h3', null, 'Compatible con las plataformas de Epic y Steam'),
                e('p', null, 'Compatible con las plataformas de Epic y Steam, disfruta de nuestro servidor desde tu plataforma preferida. ¬°√önete ahora y comienza tu aventura!'),
                e('a', {href:'https://discord.gg/TU_INVITACION', className:'btn btn--secondary', style:{marginTop:'10px', display:'inline-block'}}, 'Unirse a la comunidad')
              )
            )
          )
        )
      );
    }

  function App(){
      // En producci√≥n, aqu√≠ se llamar√≠a a la API para traer estado real (fetch/axios)
      // Comentario: Reemplazar SAMPLE_MAPS por el arreglo recibido de la API.
      const maps = SAMPLE_MAPS;
      return (
        e(React.Fragment, null,
          e(Hero),
          // Principal content container (cluster + mapas)
          e('div', {className:'container mx-auto px-4'},
            e(ClusterConfig),
            e(MapsSection, {maps})
          ),
          // CrossplaySection fuera del container para que el fondo ocupe todo el ancho
          e(CrossplaySection)
        )
      );
    }

    // Montar la aplicaci√≥n
    const root = ReactDOM.createRoot(document.getElementById('ase-root'));
    root.render(e(App));
  </script>

  <script>
    // Load nav bar (sin modificaciones al archivo original)
    fetch('ASE_nav_bar.html').then(r=>r.text()).then(html=>document.getElementById('nav-bar-home-container').innerHTML=html).catch(()=>{});
  </script>

  <script>
    // Cargar footer din√°micamente
    fetch('foot_home.html').then(r=>r.text()).then(html=>document.getElementById('foot-home-container').innerHTML=html).catch(()=>{});
  </script>

  <!-- AOS script -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init({ once: true, duration: 800 });
  </script>

  <script>
    // Force AOS to re-check DOM after React mounts dynamic content
    // Small timeout to ensure React render finished in typical cases
    setTimeout(function(){ try{ AOS.refresh(); }catch(e){} }, 250);
  </script>

</body>
</html>
